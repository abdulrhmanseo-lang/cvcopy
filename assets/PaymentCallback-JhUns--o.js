import{f as x,a as u,u as h,r as n,j as e}from"./index-aJC-Mn20.js";import{L as p}from"./loader-circle-poPIS_0i.js";import{C as f}from"./circle-check-Cob0IbhT.js";const w=()=>{const[r]=x(),{upgradePlan:i,user:j}=u(),t=h(),[a,c]=n.useState("processing");return n.useEffect(()=>{const s=r.get("plan"),l=r.get("status");if(!s){t("/");return}if(l==="failed"){c("error"),setTimeout(()=>t("/#pricing"),3e3);return}(async()=>{await new Promise(d=>setTimeout(d,2e3));const m=s==="basic"?29:s==="pro"?49:199,o="pay_"+Math.random().toString(36).substr(2,9);i(s,o,m),c("success"),setTimeout(()=>t("/dashboard"),2e3)})()},[]),e.jsx("div",{className:"min-h-screen bg-dark flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-card border border-white/10 rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl",children:[a==="processing"&&e.jsxs("div",{className:"py-8",children:[e.jsx(p,{size:48,className:"text-primary animate-spin mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"جاري تأكيد الدفع..."}),e.jsx("p",{className:"text-gray-400",children:"يرجى الانتظار ولا تغلق الصفحة"})]}),a==="success"&&e.jsxs("div",{className:"py-8 animate-fade-up",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500/20 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(f,{size:32})}),e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"تم الدفع بنجاح!"}),e.jsx("p",{className:"text-gray-400",children:"تم ترقية باقتك. جاري توجيهك..."})]}),a==="error"&&e.jsxs("div",{className:"py-8",children:[e.jsx("h2",{className:"text-xl font-bold text-red-500 mb-2",children:"فشلت العملية"}),e.jsx("p",{className:"text-gray-400",children:"نعتذر، لم نتمكن من إتمام الدفع."})]})]})})};export{w as default};
