import{c as g,a as y,b as j,r as c,j as e}from"./index-aJC-Mn20.js";import{e as f}from"./gemini-CzdxK7OL.js";import{g as v,L as h}from"./cvHelpers-CCilqCpX.js";import{W as p}from"./wand-sparkles-C6kSIng3.js";import{D as N}from"./download-DO4Ye8f4.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],C=g("copy",w),$=()=>{const{user:S}=y(),{showToast:n}=j(),[t,s]=c.useState({jobTitle:"",companyName:"",targetJobDescription:"",tone:"professional",cvSummary:""}),[d,x]=c.useState(""),[o,m]=c.useState(!1),[l,b]=c.useState(0),u=async()=>{if(!t.jobTitle||!t.companyName||!t.cvSummary){n("يرجى تعبئة كافة الحقول المطلوبة","error");return}m(!0);try{const a=await f(t.cvSummary,t.jobTitle,t.companyName,t.tone,t.targetJobDescription,h.Arabic);x(a),b(1),n("تم كتابة الخطاب بنجاح!","success")}catch{n("فشل التوليد. حاول مرة أخرى.","error")}finally{m(!1)}},i="w-full p-4 bg-white/5 border border-white/10 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all text-white placeholder-gray-600 hover:border-white/20",r="block text-sm font-bold text-gray-400 mb-2";return e.jsx("div",{className:"min-h-screen bg-dark pt-24 pb-20",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-12 animate-fade-up",children:[e.jsx("h1",{className:"text-4xl font-black text-white mb-4",children:"مولد خطاب التقديم الذكي"}),e.jsx("p",{className:"text-gray-400",children:"دع الذكاء الاصطناعي يكتب لك خطاباً مقنعاً للشركات"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[e.jsxs("div",{className:`space-y-6 bg-card p-8 rounded-3xl border border-white/5 shadow-2xl transition-opacity duration-500 ${l===1&&"opacity-50 pointer-events-none md:opacity-100 md:pointer-events-auto"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b border-white/5 pb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center font-bold text-white",children:"1"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"بيانات الوظيفة"})]}),e.jsxs("div",{children:[e.jsx("label",{className:r,children:"المسمى الوظيفي المستهدف"}),e.jsx("input",{value:t.jobTitle,onChange:a=>s({...t,jobTitle:a.target.value}),className:i,placeholder:"مثال: مدير تسويق"})]}),e.jsxs("div",{children:[e.jsx("label",{className:r,children:"اسم الشركة"}),e.jsx("input",{value:t.companyName,onChange:a=>s({...t,companyName:a.target.value}),className:i,placeholder:"مثال: أرامكو"})]}),e.jsxs("div",{children:[e.jsx("label",{className:r,children:"وصف الوظيفة (اختياري)"}),e.jsx("textarea",{value:t.targetJobDescription,onChange:a=>s({...t,targetJobDescription:a.target.value}),className:`${i} h-32 text-sm`,placeholder:"الصق وصف الوظيفة هنا لزيادة دقة النتائج..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:r,children:"نبذة عنك (أو انسخ ملخص سيرتك)"}),e.jsx("textarea",{value:t.cvSummary,onChange:a=>s({...t,cvSummary:a.target.value}),className:`${i} h-32 text-sm`,placeholder:"خبرة 5 سنوات في التسويق..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:r,children:"نبرة الخطاب"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["professional","enthusiastic","confident"].map(a=>e.jsx("button",{onClick:()=>s({...t,tone:a}),className:`py-2 rounded-lg text-sm font-bold border transition-all ${t.tone===a?"bg-primary border-primary text-white":"bg-white/5 border-white/10 text-gray-400 hover:bg-white/10"}`,children:a==="professional"?"رسمي":a==="enthusiastic"?"حماسي":"واثق"},a))})]}),e.jsxs("button",{onClick:u,disabled:o,className:"w-full py-4 bg-gradient-to-r from-primary to-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-primary/30 hover:shadow-primary/50 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[o?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(p,{size:20}),o?"جاري الكتابة...":"توليد الخطاب"]})]}),e.jsxs("div",{className:`bg-white text-dark p-8 rounded-3xl shadow-2xl min-h-[500px] relative transition-all duration-500 transform ${l===0?"translate-y-10 opacity-50 blur-sm":"translate-y-0 opacity-100 blur-0"}`,children:[l===0&&!o&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:e.jsxs("div",{className:"text-center text-gray-400",children:[e.jsx(p,{size:48,className:"mx-auto mb-4 opacity-20"}),e.jsx("p",{children:"املأ البيانات واضغط توليد"})]})}),e.jsxs("div",{id:"cover-letter-content",className:"prose prose-lg max-w-none text-right",dir:"rtl",children:[e.jsxs("div",{className:"mb-8 pb-4 border-b border-gray-100 flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.jobTitle||"المسمى الوظيفي"}),e.jsx("p",{className:"text-gray-500",children:t.companyName||"اسم الشركة"})]}),e.jsx("div",{className:"text-xs text-gray-400 bg-gray-50 px-3 py-1 rounded-full",children:new Date().toLocaleDateString("ar-SA")})]}),e.jsx("textarea",{value:d,onChange:a=>x(a.target.value),className:"w-full h-[400px] resize-none outline-none text-gray-700 leading-relaxed bg-transparent border-none p-0 focus:ring-0 text-base font-sans",placeholder:"سيظهر الخطاب هنا..."})]}),l===1&&e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-100",children:[e.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(d),n("تم النسخ!","success")},className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[e.jsx(C,{size:18})," نسخ"]}),e.jsxs("button",{onClick:()=>v("cover-letter-content",`Cover_Letter_${t.companyName}`,h.Arabic),className:"flex-1 py-3 bg-dark text-white hover:bg-black rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[e.jsx(N,{size:18})," تحميل PDF"]})]})]})]})]})})};export{$ as default};
